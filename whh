--[[

	Superiority WallHack (Stable + Skeleton + Chams)
	CC0 1.0 Universal (2026)

]]

--// Services
local Players = game:GetService("Players")
local RunService = game:GetService("RunService")
local Camera = workspace.CurrentCamera
local LocalPlayer = Players.LocalPlayer

--// Env
getgenv().AirHub = getgenv().AirHub or {}
if getgenv().AirHub.WallHack then return end

local WallHack = {}
getgenv().AirHub.WallHack = WallHack

--// ================= SETTINGS =================

WallHack.Settings = {
	Enabled = false,
	TeamCheck = false,
	AliveCheck = true
}

WallHack.Visuals = {

	ESPSettings = {
		Enabled = true,
		Outline = true,
		DisplayDistance = true,
		DisplayHealth = false,
		DisplayName = true,
		Offset = -20,
		TextColor = Color3.fromRGB(255,255,255),
		OutlineColor = Color3.fromRGB(0,0,0),
		TextTransparency = 0,
		TextSize = 14,
		TextFont = Drawing.Fonts.UI
	},

	BoxSettings = {
		Enabled = true,
		Transparency = 0,
		Thickness = 1,
		Color = Color3.fromRGB(255,255,255)
	},

	SkeletonSettings = {
		Enabled = false,
		Color = Color3.fromRGB(255,255,255),
		Thickness = 1,
		Transparency = 0
	},

	ChamsSettings = {
		Enabled = false,
		Transparency = 0.5,
		Color = Color3.fromRGB(255,0,0)
	}
}

--// ================= INTERNAL =================

local PlayerData = {}

local SkeletonMap = {
	{"Head","UpperTorso"},
	{"UpperTorso","LowerTorso"},
	{"UpperTorso","LeftUpperArm"},
	{"LeftUpperArm","LeftLowerArm"},
	{"LeftLowerArm","LeftHand"},
	{"UpperTorso","RightUpperArm"},
	{"RightUpperArm","RightLowerArm"},
	{"RightLowerArm","RightHand"},
	{"LowerTorso","LeftUpperLeg"},
	{"LeftUpperLeg","LeftLowerLeg"},
	{"LeftLowerLeg","LeftFoot"},
	{"LowerTorso","RightUpperLeg"},
	{"RightUpperLeg","RightLowerLeg"},
	{"RightLowerLeg","RightFoot"}
}

local function newDrawings()
	local skel = {}
	for _ = 1, #SkeletonMap do
		skel[#skel+1] = Drawing.new("Line")
	end

	return {
		Text = Drawing.new("Text"),
		Box = Drawing.new("Square"),
		Skeleton = skel
	}
end

local function hideAll(d)
	if not d then return end
	d.Draw.Text.Visible = false
	d.Draw.Box.Visible = false
	for _,l in ipairs(d.Draw.Skeleton) do
		l.Visible = false
	end
end

--// ================= UPDATE =================

local function updatePlayer(d)
	local char = d.Character
	if not char then return hideAll(d) end

	local hum = char:FindFirstChildOfClass("Humanoid")
	local hrp = char:FindFirstChild("HumanoidRootPart")
	local head = char:FindFirstChild("Head")

	if not hum or not hrp or not head then
		return hideAll(d)
	end

	if WallHack.Settings.AliveCheck and hum.Health <= 0 then
		return hideAll(d)
	end

	if WallHack.Settings.TeamCheck and d.Player.Team == LocalPlayer.Team then
		return hideAll(d)
	end

	if not WallHack.Settings.Enabled then
		return hideAll(d)
	end

	local pos, onscreen = Camera:WorldToViewportPoint(hrp.Position)
	if not onscreen then
		return hideAll(d)
	end

	local dist = math.floor((hrp.Position - Camera.CFrame.Position).Magnitude)

	-- ESP
	if WallHack.Visuals.ESPSettings.Enabled then
		local t = ""
		if WallHack.Visuals.ESPSettings.DisplayName then t = d.Player.Name end
		if WallHack.Visuals.ESPSettings.DisplayDistance then t ..= " ["..dist.."]" end
		if WallHack.Visuals.ESPSettings.DisplayHealth then t ..= " ("..math.floor(hum.Health)..")" end

		local e
